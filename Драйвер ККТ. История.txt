10.6.3.0 от 12.03.2020 **************************************************************************************

Релиз ревью:

В рамках релиза драйвер адаптирован для работы с ККТ 5.7.3, а также исправлены некоторые ошибки. 
Часть изменений, внесённых в 10.6.1.0, была отменена - формирование КТ (реквизита 1162) драйвером для поддерживаемых ранее типов товаров (меха, табак, лекарственные препараты и обувь) обновлено для поддержки актуальной версии ФФД.

Внесенные изменения:

- Драйвер ККТ

    1. Метод utilFormNomenclature() и его производные адаптированы для работы с кодами маркировки нового образца. Ограничения релиза 10.6.1.0 отменены.
    2. Исправлена терминология, затрагивающая загружаемые в ККТ скрипты. Теперь они называются шаблонами.
    3. Внесены следующие изменения в основной API:
        - добавлены методы disableOfdChannel() и enableOfdChannel() для управления каналом ОФД в драйвере без его перенастройки.
        - добавлен запрос LIBFPTR_RT_SETTINGS для метода beginReadRecords() для чтения всех настроек ККТ.
        - добавлен входной параметр LIBFPTR_PARAM_DATA_TYPE для метода flashFirmware(), позволяющий указать тип загружаемых в ККТ данных. Добавлена поддержка загрузки шаблонов для ККТ версий 5.X.
    4. Внесены следующие изменения в JSON API:
        - в результат задания getFnDocument добавлено поле rawData, которое заполняется сырыми данными документа ФН, если они есть.
    5. Внесены следующие изменения в поддержку настроек ККТ:
        - изменена настройка 13 - Шрифт ЧЛ - теперь это список значений.
        - изменена настройка 57 - Печатать признак способа расчета - теперь это список значений.
        - изменена настройка 292 - Использовать загружаемые шаблоны - теперь это список значений.
        - добавлена настройка 347 - Шрифт для чеков. Только для ККТ версий 5.X.
        - добавлена настройка 348 - Шрифт для X- и Z-отчетов и отчетов по секциям. Только для ККТ версий 5.X.
        - добавлена настройка 349 - Режим включения интерфейсов. Только для ККТ версий 5.X.
        - добавлена настройка 350 - Останавливать отправку документов в ОФД при открытом документе. Только для ККТ версий 5.X.
        - добавлена поддержка настройки 16 - Печатать номер секции - для ККТ версий 5.X.
        - добавлена поддержка настройки 57 - Печатать признак способа расчета - для ККТ версий 5.X.
        - добавлена поддержка настройки 58 - Печатать признак предмета расчета - для ККТ версий 5.X.
        - добавлена поддержка настройки 76 - Выключение / перезагрузка ККТ - для ККТ версий 5.X.
    6. В Windows-дистрибутиве обновлена служба EoU до версии 8520.
    7. Windows-дистрибутивы теперь размещают ярлыки в каталоге "АТОЛ Драйвер ККТ v.10". В случае, если на 64-битную ОС устанавливается 32-битный драйвер, его ярлыки будут иметь суффикс "(32-bit)". Ссылки на скрипты управления Web-сервером остались неизменными.

- Компонент 1С

    1. Добавлены предупреждения при вызове метода ТестУстройства, если в ККТ версий 5.X не введены лицензии №1 и №3.

- Тестовое приложение 

    1. Исправлена терминология, затрагивающая загружаемые в ККТ скрипты. Теперь они называются шаблонами.
    2. Добавлен манифест приложения для работы Windows 10 не в режиме совместимости.

Исправленные ошибки:

- Драйвер ККТ

    1. Исправлено периодическое подвисание драйвера на Android при отключении от ККТ.
    2. Исправлена лишняя запись клише в ККТ версий 5.X при сохранении других настроек.
    3. Исправлен разбор дат начала и окончания действия лицензий для ККТ версий 3.X.
    4. Исправлен работа метода удаления лицензий для ККТ версий 3.X - добавлен автоматический сброс режима.
    5. Исправлена запись настройки ККТ №309 "Размер чека в байтах".
    6. Исправлена обработка маски значений универсальных счётчиков, если передавать её как число.

- Тестовое приложение 

    1. Ошибка "Операция невозможна, недостаточно питания" больше не приводит к неудачному завершению проверки связи с ККТ.


10.6.2.2 от 04.02.2020 **************************************************************************************

Релиз ревью:

Патч-релиз. В общем доступе не публиковался. Все его изменения вошли в будущие релизы.

Исправленные ошибки:

- Драйвер ККТ
  
    1. Исправлен ряд проявлений потери связи при печати отчётов на ККТ версий 3.X при отключенной настройке драйвера "Автоматически восстанавливать связь с ККТ".


10.6.2.1 от 31.01.2020 **************************************************************************************

Релиз ревью:

Патч-релиз. В общем доступе не публиковался. Все его изменения вошли в будущие релизы.

Исправленные ошибки:

- Драйвер ККТ
  
    1. Исправлено долгое ожидание печати отчетов на ККТ версий 3.X в случае потери связи с ККТ и отключенной настройке драйвера "Автоматически восстанавливать связь с ККТ".


10.6.2.0 от 30.01.2020 **************************************************************************************

Релиз ревью:

В рамках этого релиза поддержана возможность передачи типа марки в методах регистрации позиции registration() и разбора марки parseMarkingCode(), чтобы явно отличать марки ЕГАИС 2.0 и ЕГАИС 3.0, исправлена нестабильная работа драйвера при быстрых отключениях от ККТ, а также ряд других замечаний пользователей.

Внесенные изменения:

- Драйвер ККТ

    1. Внесены следующие изменения в основной API:
        - добавлен входной параметр LIBFPTR_PARAM_MARKING_CODE_TYPE для методов registration() и parseMarkingCode(), в котором нужно указывать тип марки в случае работы с ЕГАИС 2.0 и ЕГАИС 3.0
    2. Внесены следующие изменения в JSON API:
        - в объект markingCode добавлено поле type, в котором нужно указывать тип марки в случае работы с ЕГАИС 2.0 и ЕГАИС 3.0
    3. Проведена работа по стабилизации обмена с ККТ АТОЛ версий 3.Х.
    4. В COM-объект добавлен метод getParamStringHex() для массивов байтов как строк.
    5. Добавлена возможность записи строки лога в виде, пригодном для вставки в json (параметр %j формата).
    6. В состав включен OPOS-драйвер версии 1.14.3.
    7. В состав включен JPOS-драйвер версии 1.14.11.

Исправленные ошибки:

- Драйвер ККТ
  
    1. Исправлено падение драйвера при отключении от ККТ на Android, Linux и Windows.
    2. Исправлена ошибка при чтении реквизитов регистрации 1001, 1002, 1056, 1109, 1110 и 1062 на ККТ версий 5.X и старых версиях ФН / МГМ ФН.
    3. Исправлена ошибка при печати массива пикселей (через API и JSON) с выравниваем по правой стороне на ККТ версий 3.X.
    4. Исправлена проверка обязательности входных параметров метода writeUniversalCountersSettings() для соответствия документации.
    5. Исправлен возврат значения реквизита 1162 при записи марки в методе registration() на ККТ версий 3.X.


10.6.1.0 от 05.12.2019 **************************************************************************************

Релиз ревью:

В рамках этого релиза проведена стабилизация обмена с ККТ АТОЛ версий 3.X и добавлена поддержка записи/проверки лицензий, поддержаны универсальные счетчики в ККТ АТОЛ 5.X, а компонент 1C переведен на работу по стандарту подключаемого оборудования 3.2. Также теперь драйвер будет отправлять статистику использования на сервер АТОЛ. Подробнее о составе собираемых данных написано в разделе документации "Отправка статистики".
Также с этого релиза не рекомендуется использовать метод utilFormNomenclature() и поле nomenclature позиции в json-чеках (типа объект), т.к. обновились требования к формату реквизита 1162, которые драйвер поддерживать не будет. Разработчикам кассового ПО нужно пользоваться функционалом передачи данных марки со сканера напрямую в ККТ (в этом случае ККТ самостоятельно преобразует его в реквизит 1162 и запишет в ФН), или же формировать реквизит 1162 самостоятельно по рекомендациям ЦРПТ.

Внесенные изменения:

- Драйвер ККТ

    1. Проведена работа по стабилизации обмена с ККТ АТОЛ версий 3.Х.
    2. Добавлена периодическая отправка статистики об использовании (подробнее о составе в документации).
    3. Добавлена обертка для работы с драйвером из .NET Core на Windows, Linux и macOS.
    4. Добавлена поддержка ведения электронного журнала документов на стороне драйвера. Документы записываются в базу данных, драйвер позволяет печатать из неё отчеты по диапазонам документов и смен.
    5. Внесены следующие изменения в основной API:
        - добавлены методы readUniversalCountersSettings(), writeUniversalCountersSettings(), resetUniversalCounters(), queryUniversalCountersState(), cacheUniversalCounters(), readUniversalCounterSum(), readUniversalCounterQuantity() для работы с универсальными счетчиками на ККТ АТОЛ версий 5.Х.
        - метод writeLicense(), removeLicenses() и запрос LIBFPTR_DT_LICENSE_ACTIVATED метода queryData() для ККТ АТОЛ версий 5.Х теперь поддерживают и коды защиты, и лицензии.
        - в выходные параметры запроса LIBFPTR_DT_LICENSE_ACTIVATED метода queryData() добавлены параметры, содержащие время действия лицензии - LIBFPTR_PARAM_LICENSE_VALID_FROM и LIBFPTR_PARAM_LICENSE_VALID_UNTIL.
        - в выходные параметры запроса данных LIBFPTR_RT_LICENSES для метода readNextRecord() добавлены параметры, содержащие время действия лицензии - LIBFPTR_PARAM_LICENSE_VALID_FROM и LIBFPTR_PARAM_LICENSE_VALID_UNTIL.
    6. Внесены следующие изменения в JSON API:
        - в скрипты-обработчики чеков добавлена возможность передачи значений пользовательских разрезов универсальных счетчиков.
        - добавлена поддержка печати отчета по секциям.
        - добавлена возможность передачи массива пикселей изображения.
    7. Унифицирован способ передачи сумм налогов 0% и Без НДС в позиции для ККТ АТОЛ версий 3.X и 5.X - всегда нужно передавать значение оборота налога.
    8. Для АТОЛ 90Ф убрана возможность настроить канал обмена с ОФД EthernetOverTransport.
    9. В интерпретатор JavaScript добавлена поддержка работы с файлами.
    10. Метод utilFormNomenclature() и связанный с ним функционал больше не поддерживаются. Метод будет продолжать формировать коды товаров старого образца для совместимости. Рекомендуется перейти на формирование реквизита 1162 самостоятельно или передать в ККТ полностью марку от сканера.
    11. При изменении настроек ККТ АТОЛ версии 5.Х, которые хранятся на стороне драйвера, теперь выдаётся предупреждение.
    12. Добавлена поддержка отключения передачи значения реквизита 1212 для ККТ АТОЛ версий 5.Х.
    13. Для ККТ АТОЛ версий 5.Х убрана поддержка настройки типа шифрования Wi-Fi WEP.
    14. Для ККТ АТОЛ версий 5.Х добавлена поддержка настройки выравнивания и задания шрифта текста в клише.
    15. Уточнены описания ошибки записи реквизитов ФН.
    16. В состав включен OPOS-драйвер версии 1.14.2.
    17. В состав включен JPOS-драйвер версии 1.14.10.
    18. В состав дистрибутивов под Windows включена утилита чтения документов из ФН 2.0.1.

- Тестовое приложение:

    1. Добавлена возможность загрузить JSON-задание из файла и сохранить его в файл.

- Компонент 1С

    1. Компонент переведен на поддержку стандарта подключаемого оборудования 3.2.
    2. Убрана настройка "Не отключаться от ККТ". Если будет выбран канал обмена с ОФД - EthernetOverTransport, то компонент не будет отключаться от ККТ до завершения работы 1С. Вернуть отключение можно настройкой "Отключаться от ККТ, даже если канал до ОФД - EthernetOverTransport", но доставка документов в ОФД в таком случае не гарантируется.
    3. Добавлена настройка "Печатать подвал на нефискальных документах", позволяющая управлять печатью подвала на документах, формируемых методом "НапечататьТекстовыйДокумент".

Исправленные ошибки:

- Драйвер ККТ
  
    1. Исправлены ошибки в завершении работы библиотеки драйвера на Windows, вызывающие зависание приложения.
    2. Исправлены ошибки при обмене с ОФД по EthernetOverTransport, которые могли приводить к временному замедлению обмена с ОФД.
    3. Исправлена обработка отключения USB-устройств на Android, вызывающая падение приложения.
    4. Увеличено время ожидания ответа на команду записи кода защиты для ККТ версий 3.X, т.к. иногда драйвер возвращал ошибку Нет связи.
    5. Добавлен контроль максимального значения суммы акциза на уровне драйвера.
    6. Исправлено чтение длинных (больше 128 символов) строк через методы GetSingleSetting(), ErrorDescription() и GetParamString() в Go-обертке.
    7. Версия фреймворков для iOS и macOS изменена с C на A, чтобы избежать ошибок подписи "bundle format unrecognized, invalid, or unsuitable" в Xсode.
    8. Исправлено закрытие нефискального документа без печати подвала, когда драйвер печатал клише даже в том случае, когда оно выключено в настройках ККТ.
    9. Исправлена ошибка при генерации образа ШК средствами ККТ, из-за которой драйвер мог выдавать некорректные ошибки при окончании бумаги.
    10. Добавлен сброс последней ошибки в вызов runCommand(), т.к. иногда драйвер возвращал ошибку на предыдущую команду.

- Драйвер ККТ Android

    1. Исправлено сохранение пустой строки клише через параметры ККТ.


10.6.0.0 от 15.10.2019 **************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Работа с интерпретатором JavaScript драйвера доступна для всех. Добавлена документация, новые методы драйвера, открыт исходный код скриптов-обработчиков JSON-заданий.
    2. Добавлена поддержка macOS (минимальная версия - 10.12 Sierra).
    3. Для ККТ версий 5.X добавлена поддержка ФФД 1.1.
    4. Для ККТ версий 5.X добавлена эмуляция функционала картинок в памяти ККТ. Драйвер сохраняет картинки в своем каталоге с настройками и печатает их оттуда по требованию.
    5. Внесены следующие изменения в JSON API:
        - добавлена поддержка передачи номера автомата (реквизит 1036) в поле "machineNumber" для обычных чеков и чеков коррекции.
        - добавлена поддержка печати ШК GS1-128.
    6. Внесены следующие изменения в основной API:
        - при выполнении первичной регистрации можно не передавать 1205 или 1101 с нулевым значением
        - в выходные параметры запроса LIBFPTR_FNDT_FFD_VERSIONS метода fnQueryData() добавлен параметр LIBFPTR_PARAM_FN_MAX_FFD_VERSION, в котором возвращается максимальная версия ФФД ФН.
        - в выходные параметры запроса данных LIBFPTR_RT_LICENSES для метода readNextRecord() добавлен параметр LIBFPTR_PARAM_LICENSE_NAME, в котором возвращается наименование лицензии.
        - добавлен запрос LIBFPTR_FNDT_VALIDITY_DAYS для метода fnQueryData() для получения оставшихся дней работы ФН (ФФД 1.1).
        - добавлен запрос LIBFPTR_FNDT_FREE_MEMORY для метода fnQueryData() для получения ресурса памяти ФН (ФФД 1.1).
        - добавлен запрос LIBFPTR_FNDT_TOTALS для метода fnQueryData() для получения счетчиков итогов операций ФН по заданному типу расчета (ФФД 1.1).
        - добавлен запрос LIBFPTR_RT_FN_SUM_COUNTERS для метода beginReadRecords() для получения счетчиков итогов операций ФН (ФФД 1.1).
        - добавлен запрос LIBFPTR_RT_FN_QUANTITY_COUNTERS для метода beginReadRecords() для получения счетчиков количества операций ФН (ФФД 1.1).
        - добавлен запрос LIBFPTR_RT_FN_UNSENT_DOCS_COUNTERS для метода beginReadRecords() для получения счетчиков итогов непереданных документов ФН (ФФД 1.1).
        - добавлена поддержка печати ШК GS1-128.
        - добавлена поддержка печати ШК Code39+ (Code39 Extended).
        - добавлен метод execDriverScript() для выполнения произвольного скрипта JavaScript.
        - добавлен метод uploadDriverScript() для загрузки скрипта JavaScript для его последующего вызова командой execDriverScriptById() или processJson().
        - добавлен метод execDriverScriptById() для выполнения произвольного скрипта JavaScript, загруженного в драйвер.
        - добавлен запрос LIBFPTR_DT_WIFI_INFO для метода queryData() для получения конфигурации Wi-Fi.
    7. Добавлена поддержка использования шрифта при печати строк по умолчанию для ККТ версий 5.X (требуется ПО ККТ 5.6.0 и выше).
    8. Проведена стабилизация обмена с ККТ версий 5.X для всех каналов связи.
    9. Добавлена настройка "Инвертировать состояние денежного ящика" (LIBFPTR_SETTING_INVERT_CASH_DRAWER_STATUS), при включении которой драйвер будет возвращать противоположное полученному от ККТ значению.
    10. Добавлена возможность отключения автоматического восстановления связи с ККТ с помощью настройки LIBFPTR_SETTING_AUTO_RECONNECT.
    11. При ошибке печати дополнительного клише, установленного с помощью setHeaderLines(), возвращается уточненный текст ошибки - Ошибка при печати дополнительного клише (<оригинальный текст ошибки>).
    12. Для python-обертки драйвера добавлена возможность передачи настроек в методе setSettings() как строки, а также метод для получения настроек в виде строки getSettingsStr().
    13. Список доступных COM-портов на Windows изменен на диапазон от 1 до 256. Дополнительно, если обнаружен инициализированный COM-порт вне этого диапазона, он будет добавлен в конец списка. В окне настройки драйвера добавлено автоматическое обновление списка COM-портов по сигналам от ОС об изменении конфигурации оборудования.
    14. В состав включен OPOS-драйвер версии 1.14.1.
    15. В состав включен JPOS-драйвер версии 1.14.9.
    16. В состав дистрибутивов под Windows включена документация на утилиту чтения документов из ФН.

- Тестовое приложение:

    1. Подготовлен дистрибутив тестового приложения драйвера для macOS (минимальная версия - 10.12 Sierra).
    2. Добавлена возможность автоматического форматирования и проверки корректности формата JSON на вкладке Работа с JSON.
    3. Добавлено автоматического обновление состояния чека и смены при открытии/закрытии смены, внесении/выплате наличных, запроса информации о ККТ, выполнении JSON-задания и открытии чека с ошибкой.
    4. Для ККТ версий 5.X уточнены наименования лицензий при запросе введенных лицензий (Лицензии -> Введенные лицензии).
    5. При запуске тестового приложения с параметром -fixedSize=<ширина>x<высота> размер окна будет зафиксирован на заданном размере.

- Компонент 1С

    1. Добавлена поддержка ФФД 1.1.
    2. Добавлена поддержка передачи нескольких телефонов агентов и поставщиков.
    3. Добавлена поддержка печати ШК CODE128, EAN128 (GS1-128) и ITF14.

Исправленные ошибки:

- Драйвер ККТ

    1. При передаче больших ФД по EoT происходят обрывы связи с ККТ.
       Способ решения: Замедление обмена с ККТ при отправке документов по EoT в ОФД больше не приводит к потере связи.
    2. При передаче поля printItems в оплатах в json-заданиях драйвер зависает.
       Способ решения: Исправлена обработка printItems.
    3. Отсутствует ошибка при попытке изъять денег из ККТ версии 5.X больше, чем зарегистрировано в данный момент.
       Способ решения: В этом случае возвращается ошибка "В ККТ нет денег для выплаты".
    4. При формировании чека коррекции по ФФД 1.1 с незаполненными данными поставщика ("supplierInfo": {}) происходит ошибка скриптов драйвера.
       Способ решения: Исправлена обработка незаполненных данных поставщика.
    5. При формировании чека коррекции по ФФД 1.1 не учитывается флаг "electronically" для отключения печати документа.
       Способ решения: Флаг учитывается, отключение печати чеков коррекции возможно.
    6. При передаче в поле "changeInfoReasons" значения 31 в ККТ передается некорректное значение реквизита 1205.
       Способ решения: Формирование реквизита 1205 исправлено.
    7. Если при работе с ККТ версий 3.X происходит ошибка при печати "postItems" в JSON-заданиях, сбиваются настройки печати клише.
       Способ решения: Добавлен откат настроек в случае ошибки при печати "postItems".
    8. При печати текста двойной ширины на ККТ версий 5.X он обрезается в неверном месте.
       Способ решения: Исправлен расчет доступного для печати количества символов на чековой ленте.
    9. Не удается подключить драйвер через Go-обертку.
       Способ решения: Исправлена работа Go-обертки.
    10. При использовании дополнительного клише (setHeaderLines()) печатается некорректное клише нефискальных документов.
        Способ решения: Исправлена печать клише у нефискальных документов.
    11. При выполнении внесения при закрытой смене через JSON-задание не возвращается флаг автоматического открытия смены.
        Способ решения: Исправлена обработка этого флага в JavaScript-фреймворке.
    12. При передаче пустых значений полей "ofd.dns", "ofd.host", "ofd.name", "device.ofdChannel" и "device.defaultTaxationType" через json-задание регистрации происходит ошибка.
        Способ решения: При передачи пустых значений указанных выше полей в ККТ они передаются.
    13. При подаче некорректного JSON-задания перерегистрации ККТ может вернуться ошибка "Поле "undefined" отсутствует".
        Способ решения: Исправлена обработка ошибок в скриптах-обработчиках JSON-заданий перерегистрации ККТ.

- Тестовое приложение:

    1. В отчете о перерегистрации под ФФД 1.1 выводится некорректное значение реквизита 1205.
       Способ решения: Исправлено формирование отчета о перерегистрации, значение 1205 берется из TLV документа из ФН.
    2. Перепутаны местами чекбоксы "Двойная ширина" и "Двойная высота" на вкладке Печать -> Текст, клише.
       Способ решения: Чекбоксы поменяны местами.

- Web-сервер

    1. На некоторых конфигурациях ОС не удается зайти в настройки.
       Способ решения: Исправлен конфликт пакетов для работы с шаблонами html-страниц.

- Компонент 1С

    1. При одновременной работе с несколькими ККТ возможно падение приложения 1С.
       Способ решения: Одновременная работа с несколькими ККТ исправлена.
    2. На Android не удается подключиться к ККТ по USB.
       Способ решения: Исправлена инициализация компонента на Android, подключение по USB стало возможным.
    3. На Android не ведутся логи обмена с ККТ.
       Способ решения: Исправлена инициализация компонента на Android, логи формируются.
    4. В ФН не записывается место расчетов, переданное в чеке.
       Способ решения: Исправлена обработка XML-чека, место расчета корректно обрабатывается.
    5. Для Windows и Linux можно выбрать канал обмена с ККТ Bluetooth, но нельзя задать MAC-адрес устройства.
       Способ решения: Настройка MAC-адреса добавлена в XML со списком настроек.


10.5.1.3 от 19.08.2019 **************************************************************************************

Исправленные ошибки:

- Драйвер ККТ
  
    1. Не удается подключиться к АТОЛ 11Ф через 1С - выдается ошибка Нет связи.
       Способ решения: Увеличено время ожидания ответа на команду проверки кода защиты.
    2. При формировании чека выдается ошибка Чек оплачен не полностью.
       Способ решения: Исправлена проверка неравенства суммы оплат и суммы позиций при работе через JSON-задания.


10.5.1.0 от 09.08.2019 **************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Выполнение JSON-заданий переведено на внутренний интерпретатор JavaScript. Также ужесточен контроль типов полей в JSON и изменен текст и код выдаваемых ошибок валидации.
    2. Оптимизирована работа с ККТ по TCP/IP на Windows.
    3. Исправлены проблемы совместимости COM-обертки. Начиная с этого релиза идентификаторы методов и свойств не будут смещаться.
    4. Внесены следующие изменения в основной API:
        - добавлен запрос LIBFPTR_DT_SHIFT_TOTALS для метода queryData() для чтения сменных итогов.
        - добавлены методы setHeaderLines() и setFooterLines() для задания дополнительных заголовка и подвала документов (только ККТ версий 5.6 и выше).
        - добавлен метод callScript(), который поддерживает вызовы скриптов ККТ версий 5.X с пятью (и меньше) выходными параметрами.
        - исправлено чтение целочисленных результатов скрипта при выполнении скрипта пользователя на ККТ версий 5.X (LIBFPTR_RT_EXEC_USER_SCRIPT, метод readNextRecord()).
        - для ККТ версий 5.X добавлена поддержка настройки 13 (Шрифт ЧЛ).
    5. Внесены следующие изменения в JSON API:
        - добавлен запрос "getShiftTotals" для запроса сменных итогов.
        - добавлены поддержка новых признаков предметов расчета (20 - 26).
    6. В документацию добавлено описание формата строк клише, используемых в настройках ККТ, а также методах setHeaderLines() и setFooterLines().
    7. Go-обертка больше не вызывает panic() при вызове метода New(), если драйвер не найден - просто возвращает nil. Если требуется узнать конкретную ошибку, нужно использовать метод NewSafe().
    8. В Java-обертку добавлена поддержка типа int для методов setParam(), setNonPrintableParam() и setUserParam().
    9. Добавлена поддержка печати итогов регистрации (отчет LIBFPTR_RT_FN_REGISTRATIONS) для ККТ версий 5.X.
    10. В дистрибутивы под Linux и Windows добавлена С++-обертка для использования драйвера.
    11. В дистрибутивы под Windows добавлена возможность опциональной установки JPOS-драйвера.
    12. В состав включен JPOS-драйвер версии 1.14.8.
    13. В состав дистрибутивов под Windows включена утилита чтения документов из ФН 2.0.0.

- Компонент 1С

    1. Добавлены сборки для Android x86_64 и arm64.
    2. В настройки устройства вынесены настройки адреса ОФД, порта ОФД и канала обмена с ОФД. Настройки применяются при подключении к устройству, если они заданы.

Исправленные ошибки:

- Драйвер ККТ

    1. При попытке провести регистрацию АТОЛ 90Ф, АТОЛ 91Ф или АТОЛ 92Ф возникает ошибка "Команда не разрешена введенными кодами защиты / лицензиями ККТ".
       Способ решения: Исправлена обработка ошибки при автоматической отмене документа, которая вызывается при регистрации.
    2. При передаче отрицательного значения суммы акциза (реквизит ФН 1229) она игнорируется.
       Способ решения: При передаче отрицательной суммы акциза через API драйвера выдается ошибка "Некорректная сумма акциза", а при передаче через JSON проверка происходит на этапе валидации JSON.
    3. Если при закрытии смены на ККТ версий 3.X перезагрузить ККТ, то отчет останется прерванным, но ошибки драйвер не вернет.
       Способ решения: Отчет будет перепечатан.
    4. При передаче неокругленной суммы оплаты безналичными на ККТ версий 3.X часть чека автоматически оплачивается наличными.
       Способ решения: Добавлено округление суммы оплаты.
    5. Если при формировании чека на ККТ версий 5.X закончилась бумага, печать следующего за ним документа вызывает ошибку Чек закрыт - операция невозможна.
       Способ решения: Исправлена обработка недопечатанных документов.
    6. При работе с ККТ версий 5.X некорректно формируется QR-код, если в его данных есть кириллица.
       Способ решения: Изменена кодировка QR-кода для поддержки символов unicode.
    7. При передаче признака агента как LIBFPTR_AT_NONE происходит ошибка формирования реквизита, хотя по документации такое значение возможно.
       Способ решения: Из документации убрано упоминание про LIBFPTR_AT_NONE в регистрации позиции и открытии чека. При передаче значения LIBFPTR_AT_NONE запись соответствующего реквизита производиться не будет.
    8. После регистрации или замене ФН на ККТ версий 5.X , метод checkDocumentClosed() всегда сообщает, что документ не был закрыт.
       Способ решения: Исправлен анализ закрытия документов регистрации и замены ФН.

- Компонент 1С

    1. При использовании ККТ версии 5.4.0 и ниже возникает ошибка "Не поддерживается в данной версии" при подключении к ККТ.
       Способ решения: Исправлена совместимость компонента с ККТ версии 5.4.0 и ниже.
    2. Не удается фискализировать чек с маркированными товарами.
       Способ решения: Исправлена обработка идентификаторов маркированных товаров из стандарта 3.0.
    3 При запросе состояния через метод ПолучитьТекущееСостояние (GetCurrentStatus) всегда возвращается флаг закрытой смены.
       Способ решения: Возвращается актуальное состояние смены.
    4. Если основная поставка драйвера не установлена, возникает ошибка при вызове метода ПолучитьОписание (GetDescription).
       Способ решения: Исправлена работа метода при отсутствии основной поставки драйвера.

- Драйвер ККТ Android

    1. В окне Параметры ККТ для Sigma 10 не хватает большей части настроек.
       Способ решения: Исправлен набор доступных настроек для Sigma 10.


10.5.0.0 от 11.06.2019 **************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Усовершенствована работа методов beginReadRecords(), readNextRecord() и endReadRecords(). Теперь метод beginReadRecords() будет возвращать уникальный идентификатор чтения, который нужно передавать в readNextRecord() и endReadRecords(). По нему будет происходить привязка процесса чтения к самим данным. Таким образом, теперь можно считывать одни данные внутри другого чтения (например, разбирать STLV, как только они были обнаружены при вычитывании документа из ФН). Полный пример считывания документа из ФН приведен в документации, в разделе Алгоритмы.
    2. Внесены следующие изменения в основной API:
        - добавлена поддержка передачи неразобранной марки со сканера в ККТ в параметре LIBFPTR_PARAM_MARKING_CODE метода registration().
        - добавлен набор методов setUserParam() для установки значений пользовательских реквизитов документов.
        - добавлен метод parseMarkingCode() для разбора марки без передачи её в ФН.
        - добавлен запрос LIBFPTR_DT_SCRIPTS_INFO для метода queryData() для чтения информации о загруженных скриптах для ККТ версий 5.X.
        - добавлен запрос LIBFPTR_FNDT_ERROR_INFO для метода fnQueryData() для чтения детализации ошибки ФН.
    3. Добавлена возможность печати pre- и postItems в JSON-заданиях открытия и закрытия смены.
    4. Обновлены возвращаемые методом utilTagInfo() названия реквизитов для 1081, 1098, 1102, 1106, 1135, 1138, 1139, 1141, 1144, 1145, 1146, 1151, 1153, 1178, 1179, 1209.
    5. Добавлена поддержка указания промотки чековой ленты в клише для ККТ версий 5.X.
    6. В дистрибутивы добавлена обертка golang.
    7. Проведена стабилизация обмена с ККТ версий 5.X для всех каналов связи.
    8. Исправлены обертки golang и C#.
    9. В состав включен JPOS-драйвер версии 1.14.7.

- Компонент 1С

    1. Компонент 1С переведен на поддержку стандарта 3.0.
    2. По умолчанию отключена настройка "Не отключаться от ККТ".

- Тестовое приложение

    1. Добавлено предупреждение при закрытии ФН.

Исправленные ошибки:

- Драйвер ККТ

    1. Если при печати отчета с гашением на ККТ версий 3.X выключить питание ККТ, то драйвер будет продолжать ожидать окончания печати (до 15 минут).
       Способ решения: Добавлена обработка ошибок повторного подключения к ККТ, теперь драйвер будет прекращать снятие отчета раньше.
    2. На ККТ версий 3.X некорректно работает выравнивание картинки при печати из файла.
       Способ решения: Исправлен расчет смещения картинки при печати.
    3. При попытке напечатать нефискальный документ при открытом фискальном на ККТ версий 5.X, последний отменяется.
       Способ решения: Добавлены проверки состояния документов при их печати. Драйвер либо выдаст ошибку, либо допечатает фискальный документ, если он был прерван.
    4. Драйвер может зависнуть при обмене с АТОЛ 1Ф, если имеет место сбой часов и установленный ФН от другой ККТ.
       Способ решения: Зависание исправлено.
    5. При выходе из activity настроек на Android не применяются настройки "Включать Bluetooth" и "Выключать Bluetooth".
       Способ решения: Исправлена работа указанных настроек.
    6. Если при работе с ККТ версий 3.X передать сумму позиции, отличающуюся от произведения цены на количество на одну копейку, то драйвер не позволяет передать информационную скидку, хотя ККТ позволяет.
       Способ решения: Исправлена проверка сумм, переданных в метод registration().


10.4.6.0 от 23.04.2019 **************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. В документацию и инсталляторы добавлено пользовательское соглашение на использование драйвера. Для использования Windows-дистрибутива в silent-режиме требуется указание нового ключа. Подробнее в документации на драйвер на http://integration.atol.ru.
    2. Внесены следующие изменения в основной API:
        - добавлена возможность запроса реквизитов любой регистрации по номеру через методы beginReadRecords() - readNextRecord() - endReadRecords().
        - добавлена возможность чтения кодов защиты ККТ через методы beginReadRecords() - readNextRecord() - endReadRecords().
        - добавлена поддержка печати отчета по скидкам для ККТ версий 3.X.
        - добавлена поддержка отключения печати отчетов для ККТ версий 5.X.
        - добавлен метод printPixelBuffer() для печати растра из буфера пикселей.
        - добавлен метод uploadPixelBuffer() для загрузки растра в память ККТ.
        - добавлен метод downloadPixelBuffer() для выгрузки растра из памяти ККТ.
        - в результат метода readNextRecord() при чтении документов из ФН добавлена информация о реквизите из метода utilTagInfo().
        - добавлена возможность разбора составного реквизита ФН через методы beginReadRecords() - readNextRecord() - endReadRecords().
        - добавлен запрос LIBFPTR_FNDT_REGISTRATION_TLV для метода fnQueryData() для чтения реквизита регистрации но номеру регистрации.
        - добавлена поддержка печати текста рядом с QR-кодом для ККТ версий 3.X.
    3. Внесены следующие изменения в JSON API:
        - разрешено не передавать оплаты, если сумма чека равна нулю.
    4. Добавлена обертка и примеры использования для вызова методов драйвера из языка Go.
    5. Добавлена поддержка печати подвала при закрытии нефискального документа на ККТ версий 5.X.
    6. В документацию добавлены отдельные описание настроек для каждой модели ККТ АТОЛ версий 5.X.
    7. При установке дистрибутива для Windows в реестр теперь прописывается битность драйвера.
    8. Добавлена поддержка программного выключения ККТ версий 5.X.
    9. В лог добавлен вывод оригинальной ошибки ККТ.
    10. Сборка для linux armhf переведена на использование Qt 5.3.2.
    11. В состав включен JPOS-драйвер версии 1.14.6.
    12. В Windows-дистрибутиве обновлена служба EoU до версии 8033. 

- Компонент 1С

    1. Добавлена поддержка передачи дополнительного реквизита пользователя для чека и настройка его печати.
    2. Добавлена поддержка передачи дополнительного реквизита пользователя для позиции и настройка его печати.

- Web-сервер

    1. Добавлена поддержка CORS запросов для метода OPTIONS.
    2. Увеличена частота опроса очереди задач с 1с до 100мс.

- Тестовое приложение

    1. При вводе РНМ на вкладке Регистрации ККТ автоматически удаляются лишние пробелы.

Исправленные ошибки:

- Драйвер ККТ

    1. При работе одновременно с несколькими ККТ драйвер вызывает падение использующего его приложения.
       Способ решения: Исправлены ошибки драйвера при работе одновременно с несколькими ККТ, вызывающие падение приложения.
    2. Если вызвать метод checkDocumentClosed() после отменены чека, он будет возвращать, что чек закрыт и допечатан.
       Способ решения: Исправлена работа метода открытия чека - теперь он сохраняет всю необходимую для определения успешного закрытия чека информацию.
    3. При запросе суммы налога на чек по ставкам НДС 20% возвращается нулевая сумма.
       Способ решения: Исправлен возврат сумм налогов по ставкам НДС 20%.
    4. При работе с COM-объектом драйвера не удается передать числовые и логические параметры по ссылке.
       Способ решения: Добавлена обработка ссылочных числовых и логических параметров.
    5. При использовании драйвера из C# или ObjC-оберток не возвращается ошибка при некорректных настройках в методе setSettings().
       Способ решения: Изменены прототипы функции setSettings() для указанных оберток. Теперь она возвращает признак ошибки.
    6. Драйвер некорректно округляет сумму позиции LIBFPTR_PARAM_POSITION_SUM при наличии десятых долей копейки.
       Способ решения: Драйвер округляет сумму корректно.
    7. При запросе информации о реквизите 1054 методом utilTagInfo() возвращается тип bool, хотя реквизит имеет тип byte.
       Способ решения: Исправлен тип реквизита 1054.
    8. Не печатаются части текста внутри служебного отчета на ККТ версий 3.X.
       Способ решения: Исправлена печать текста внутри служебного отчета.
    9. При передаче некорректного итога чека на ККТ версий 5.Х возникает ошибка переполнения итога чека.
       Способ решения: Добавлена отдельная ошибка "Неверный итог чека".

- Компонент 1С

    1. При формировании чека с нулевой суммой происходит ошибка парсинга запроса.
       Способ решения: Исправлена работа с нулевыми суммами в чеке.
    2. При передаче крупных сумм (например, 38237785.08) ККТ возвращает ошибку при формировании чека.
       Способ решения: Исправлена работа с числами в компоненте.

- Драйвер ККТ Android

    1. При попытке зайти в параметры ККТ на Android 5 приложение падает.
       Способ решения: Приложение адаптировано для работы на Android 5.

- Тестовое приложение

    1. Если попытаться закрыть тестовое приложение во время выполнения какой-либо операции, окно теста закроется, но процесс не завершится.
       Способ решения: Запрещено закрывать тестовое приложение во время выполнения операций.
    2. При печати картинки из теста драйвера не применяется значение масштаба.
        Способ решения: Масштаб передается в драйвер.


10.4.5.0 от 26.02.2019 **************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Добавлена поддержка АТОЛ 27Ф.
    2. Обновлена поддержка Sigma 7 и 8 в части обновления ПО ККТ.
    3. Для ККТ АТОЛ версий 5.X увеличена стабильность обмена по всем каналам связи.
    4. Изменен текст ошибки 93 - "Данные документа отсутствуют".
    5. Внесены следующие изменения в основной API:
        - для запросов LIBFPTR_DT_SHORT_STATUS и LIBFPTR_DT_STATUS метода queryData() добавлен выходной флаг "Бумага скоро закончится" (LIBFPTR_PARAM_PAPER_NEAR_END).
    6. В состав включен JPOS-драйвер версии 1.14.5.

- Драйвер ККТ Android

    1. Добавлена реакция на событие android.intent.action.LOCKED_BOOT_COMPLETED, чтобы включаться быстрее после загрузки Android.

Исправленные ошибки:

- Драйвер ККТ

    1. Не работают параметры межстрочного интервала и яркости при печати строк на ККТ АТОЛ версий 3.X.
       Способ решения: Исправлена работа параметров межстрочного интервала и яркости.
    2. При передаче кода обувного товара формируется некорректный тег 1162.
       Способ решения: Исправлено формирование тега 1162.
    3. В COM-обертке нет метода logWrite().
       Способ решения: В COM-обертку добавлен метод logWrite().
    4. При печати нефискальных документов через JSON на ККТ без отрезчика возникает ошибка "Не поддерживается в данной версии", хотя документ печатается корректно.
       Способ решения: Исправлен механизм управления печатью клише, ошибка больше не возникает.
    5. Если передавать строковый параметр в COM-обертку через SetParam() по ссылке, то возвращается ошибка "Параметр задан неверно".
       Способ решения: Добавлена поддержка передачи строковых параметров в COM-обертку по ссылке.
    6. В языковых обертках отсутствует константа LIBFPTR_NT_SHOES.
       Способ решения: Константа добавлена.

- Компонент 1С

    1. При работе с несколькими ККТ возможно прекращение работы 1С.
       Способ решения: Исправлены ошибки в работе списка экземпляров драйвера, повышена стабильность работы компонента 1С.


10.4.4.0 от 05.02.2019 **************************************************************************************

Внесенные изменения:

- Общее

    1. Изменена нумерация версий программных продуктов драйвера ККТ - добавлена четвертая цифра версии. Теперь все версии будут иметь вид 10.MAJOR.MINOR.PATCH.

- Драйвер ККТ

    1. Добавлена поддержка АТОЛ 1Ф.
    2. Для ККТ АТОЛ версий 5.X увеличена стабильность обмена по всем каналам связи.
    3. Увеличена стабильность работы канала обмена с ОФД EthernetOverTransport.
    4. Реализация работы по USB на Android переписана с использованием libusb.
    5. Добавлена поддержка маркировки обуви.
    6. Добавлена сборка драйвера для мобильного терминала NEW7210.
    7. Добавлена сборка драйвера для Linux ARM64.
    8. В дистрибутив добавлены USB-драйвера для Windows XP.
    9. Внесены следующие изменения в основной API:
        - добавлен метод utilTagInfo() для получения общей информации о реквизите ФН по его номеру;
        - добавлен метод downloadPicture() для вычитывания картинки из памяти ККТ;
        - добавлен метод utilContainerVersions() для получения информации о версиях компонентов ПО ККТ из контейнера;
        - добавлен метод bluetoothRemovePairedDevices() для удаления сопряжений Bluetooth;
        - добавлен новый выходной параметр LIBFPTR_PARAM_SHIFT_AUTO_OPENED для методов openReceipt(), cashOutcome() и cashIncome(), по которому можно понять, открывалась ли автоматически смена при выполнении данных операций;
        - добавлен метод resetError() для сброса последней ошибки драйвера;
    10. Внесены следующие изменения в JSON API:
        - в ответ на запрос информации о ККТ "getDeviceInfo" добавлено поле "configurationVersion", содержащее версию конфигурации ПО ККТ;
        - добавлена поддержка признака предмета расчета 19 (залог);
        - добавлена возможность вывести на печать картинку из памяти ККТ по её номеру в теле чека (items), до него (preItems) или после (postItems);
        - в запрос информации о ФН "getFnInfo" добавлено поле "livePhase", содержащее стадию жизни ФН;
        - в структуру товарной позиции добавлен флаг штучного товара "piece".
    11. Внесены следующие изменения в поддержку настроек ККТ:
        - для ККТ АТОЛ версий 5.X добавлена поддержка настройки 331 - Сопряжение по Bluetooth;
        - убрана возможность привязать расширенные типы оплат к наличным (настройки 249-257);
        - убрана возможность настройки DHCP (настройка 49) для АТОЛ 15Ф и АТОЛ 60Ф.
    12. Для ККТ АТОЛ версий 5.X добавлена поддержка запроса сумм налогов за чек (queryData() с типом запроса LIBFPTR_DT_RECEIPT_TAX_SUM).
    13. Добавлена поддержка загрузки лицензий ККТ из JSON-файла.
    14. Скорость по умолчанию для Sigma 7 и Sigma 8 изменена на 115200 бод.
    15. Для ККТ АТОЛ версий 5.X добавлена поддержка pre- и postItems в JSON-заданиях формирования чеков, X-отчета, внесения и выплаты.
    16. При применении настроек в Параметрах ККТ добавлена возможность пропустить настройку, если её запись в ККТ завершилась с ошибкой.
    17. В состав включен JPOS-драйвер версии 1.14.4.

- Драйвер ККТ Android

    1. В AIDL-интерфейс добавлены методы getServiceVersion() и getDriverVersion() для получения версий сервиса и драйвера соответственно.
    2. Добавлена возможность выгрузки логов драйвера в виде архива.
    3. Добавлены broadcast-оповещения о событиях открытия и закрытия смены.

- Компонент 1С

    1. Добавлена поддержка признака предмета расчета 19 (залог).
    2. Добавлена поддержка маркировки обуви.
    3. Изменена печать значения кода товара на чековой ленте. Вместо КТН печатается КТ, строка типа КТ расширена до 4 символов.

- Тестовое приложение

    1. Изменена вкладка Данные при выгрузке документа из ФН. Теперь документ полностью разбирается на отдельные реквизиты и выводится информация по ним.
    2. Добавлены диалоги для подтверждения операций Инициализация таблиц, Инициализация устройства и Тех. обнуление.
    3. Поправлено отображение окна теста драйвера на разрешении 1024 х 768.
    4. При выполнении операций тест драйвера блокируется, а не подвисает.
    5. Добавлен вывод сообщения о необходимости дождать отправки документов в ОФД при закрытии архива ФН.

Исправленные ошибки:

- Драйвер ККТ

    1. При запросе версий ПО ККТ АТОЛ версий 5.X добавляется лишняя цифра 5 в начало (версия принимает вид 5.5.X.X).
       Способ решения: Лишняя цифра больше не добавляется в версию.
    2. Если при работе с ККТ АТОЛ версий 5.X не передать значение признака способа расчета при регистрации позиции, то в ККТ будет передано значение 1 (Предоплата 100%), что не соответствует поведению ККТ АТОЛ версий 3.X по умолчанию.
       Способ решения: Способ расчета по умолчанию изменен на 4 (Полный расчет).
    3. Если чек формируется с флагом "Использовать ставку НДС18" и регистрация первой позиции в чеке со ставкой НДС18 завершилась с ошибкой, то следующая позиция со ставкой НДС18 будет зарегистрирована со ставкой НДС20.
       Способ решения: Исправлена работа флага "Использовать ставку НДС18".
    4. Возможна ошибка связи при внесении/выплате, если выполнять их на закрытой смены.
       Способ решения: Добавлено явное открытие смены в ККТ при этих операциях.
    5. При запросе необнуляемых итогов у ККТ АТОЛ версий 5.X драйвер возвращает ошибку "Не поддерживается в данной версии оборудования".
       Способ решения: Ошибка в данном случае не выдается.
    6. При печати строки с переносами (символы \n и \r) печатается только часть строки до первого переноса.
       Способ решения: Исправлена обработка переносов строк.
    7. При изменении скорости обмена ККТ АТОЛ версий 5.X с ПК по RS232 (настройка 236) пропадает связь.
       Способ решения: Драйвер переключает скорость обмена сразу после программирования настройки, связь восстанавливается.
    8. При чтении документа из ФН через JSON-задание "getFnDocument" возвращается внутренняя ошибка библиотеки, если чек имеет нулевой итог.
       Способ решения: Нулевой итог в чеках при их чтении из ФН обрабатывается корректно.
    9. При попытке произвести выплату на сумму, больше суммы наличности в ККТ АТОЛ версий 5.X, не будет выдана ошибка.
       Способ решения: Исправлена обработка ошибок от ККТ.
    10. При выполнении запроса срока действия ФН (fnQueryData() с типом запроса LIBFPTR_FNDT_VALIDITY) у ККТ АТОЛ версий 5.X при нефискальных ККТ и ФН возвращается ошибка "Неверное состояние ФН".
        Способ решения: Если запрос количества проведенных регистраций/перерегистраций возвращает ошибку "Неверное состояние ФН", параметр LIBFPTR_PARAM_REGISTRATIONS_COUNT будет заполняться нулем.
    11. После печати чеков с pre- и postItems может отключиться отрезка чековой ленты.
        Способ решения: Значение настройки отрезки возвращаются в исходное состояние после завершения печати документа.
    12. При попытке закрыть уже закрытый чек на ККТ АТОЛ версий 5.X не возвращается ошибка.
        Способ решения: Возвращается корректная ошибка.
    13. При временной потере связи с ККТ во время снятия отчета с гашением драйвер не отвечает в течении 15 минут.
        Способ решения: Если во время ожидания снятия отчета связь с ККТ восстанавливается, то драйвер не будет дожидаться полного таймаута и завершит операцию раньше.
    14. Если ККТ АТОЛ версий 5.X не фискализирована, драйвер не дает открыть чек с ошибкой "Некорректная СНО".
        Способ решения: Ошибка в данном случае не выдается.
    15. При изменении часовых поясов во время работы драйвера он может возвращать некорректное время из ККТ.
        Способ решения: Изменены механизмы конвертации времени в драйвере.
    16. На Sigma 7 и Sigma 8 денежный ящик открывается через раз.
        Способ решения: Исправлен механизм открытия денежного ящика.
    17. При импорте настроек из файла через Параметры ККТ может возникать ошибка "Не удалось записать параметр 240 - Наименование способа расчета 2 (Параметр доступен только для чтения)", хотя такого параметра в файле нет.
        Способ решения: Исправлен импорт настроек, чтобы записывались только измененные настройки.
    18. Не редактируется настройка таймаута на выключение ККТ (настройка 64) для АТОЛ 15Ф и АТОЛ 60Ф.
        Способ решения: Настройка редактируется корректно.
    19. При передаче неполного JSON с настройками в SettingsActivity (Android) некоторые поля могут не отображаться, а также в logcat выводятся ошибки.
        Способ решения: Исправлена обработка неполных настроек в SettingsActivity.

- Тестовое приложение

    1. Если при регистрации ККТ не указать СНО по умолчанию, будет выдана ошибка парсинга JSON-запроса.
       Способ решения: При попытке провести регистрацию/перерегистрацию ККТ без указания СНО по умолчанию будет показан диалог с описанием ошибки.
    2. Если не ввести наименование поставщика и провести регистрацию позиции, то в ККТ передается неправильный STLV реквизита.
       Способ решения: В ККТ передается корректный STLV.

- Драйвер ККТ Android

    1. При выходе из Параметров ККТ драйвер записывает в ККТ все настройки, даже если ни одной не были изменено.
        Способ решения: Добавлено отслеживание изменений настроек, при выходе в ККТ будут записываться только измененные.


10.4.3 от 31.01.2019  ***************************************************************************************

Внесенные изменения:

- Компонент 1С

    1. Добавлена поддержка признаков предмета расчета 14 (имущественное право), 15 (внереализационный доход), 16 (страховые взносы), 17 (торговый сбор), 18 (курортный сбор).


10.4.2 от 15.11.2018  ***************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Добавлена поддержка АТОЛ Sigma 7Ф и АТОЛ Sigma 8Ф.
    2. Расширена поддержка работы с НДС 20%. В документации введен отдельный раздел Алгоритмы, где описана логика работы и возможности драйвера при проведении возвратов товаров, проданных с НДС 18% после 2019.01.01.
    3. Внесены следующие изменения в основной API:
        - в запрос версии конфигурации (queryData(), запрос LIBFPTR_DT_UNIT_VERSION, тип модуля LIBFPTR_UT_CONFIGURATION) добавлен выходной параметр "Версия релиза" LIBFPTR_PARAM_UNIT_RELEASE_VERSION.
    4. Внесены следующие изменения в JSON API:
        - в запросы инфомации о ККТ и ФН добавлена информация о версиях ФФД;
        - в задание печати фискального чека добавлена возможность передачи дополнительного реквизита чека (реквизит 1192);
        - добавлена возможность указания способа переноса нефискальной строки;
        - добавлена возможность запроса введенных в ККТ кодов защиты.
    5. Внесены следующие изменения в поддержку настроек ККТ:
        - добавлена настройка 345 - Печатать реквизит "ИНН поставщика";
        - добавлена настройка 346 - Передавать код товара в реквизите "Наименование предмета расчета".
    6. Добавлена возможность выгрузки ПО ККТ через методы beginReadRecords() - readNextRecord() - endReadRecords().
    7. Для ККТ версий 5.X добавлена возможность прочитать текущее состояние Ethernet-соединения с помощью метода queryData() (запрос LIBFPTR_DT_ETHERNET_INFO).
    8. При ошибке записи настроек через окно Параметры ККТ в текст ошибки, помимо номера настройки, добавлено её название.
    9. В документацию добавлена версия драйвера и дата сборки документации.
    10. Строки лога драйвера на Windows теперь разделяются комбинацией символов CR+LF.
    11. В состав включен JPOS-драйвер версии 1.14.3.

- Драйвер ККТ Android

    1. Добавлена пользовательские формы настройки ККТ.

- Компонент 1С

    1. Добавлена поддержка стандарта БПО 2.4.
    2. Открыта возможность выбора моделей АТОЛ 90Ф, АТОЛ 91Ф, АТОЛ 92Ф.

Исправленные ошибки:

- Драйвер ККТ

    1. Если ККТ находится в состояние сбоя часов и в ней отсутствует ФН, то подключиться к ней не удается.
       Способ решения: Добавлена специальная обработка этого состояния. Подключение к ККТ осуществляется успешно.
    2. Не импортируются настройка "Количество строк заголовка клише".
       Способ решения: Исправлен импорт настроек, у которых есть список возможных значений.
    3. Автоматическое освобождение объекта драйвера Garbage Collector-ом в Java вызывает падение приложения.
       Способ решения: Добавлен контроль нативного дескриптора драйвера при вызове метода destroy().
    4. В C#-обертке драйвера отсутствует метод destroy(), хотя он описан в документации.
       Способ решения: Добавлен метод destroy() в C#-обертку.
    5. При записи реквизита 1229 (сумма акциза) в ФН записывается число в плавающей точкой.
       Способ решения: Драйвер производит преобразование суммы, переданной в реквизите 1209, к копейкам.
    6. При запросе процента заряда аккумулятора возвращаемое значение не совпадает с указанным в отчете Информация о ККТ.
       Способ решения: Исправлено ошибка при преобразовании процента заряда аккумулятора к числу.

- Web-сервер

    1. Если в JSON-задание начинается с UTF8-BOM (EFh BBh BFh), то добавление задачи в очередь вызывает ошибку.
       Способ решения: Добавлена поддержка UTF8-BOM.


10.4.1 от 19.09.2018  ***************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Добавлены константы для налоговых ставок НДС 20% и НДС расчитанный 20/120.
    2. Добавлены новые методы установки параметров, обеспечивающие установку реквизитов ФН только в электронную форму чека, без печати их на ленте. Использование
    этих методов ограничено возможностями ККТ, не все реквизиты можно не печатать на чековой ленте.
    3. Для COM-обертки добавлен метод setParamStrHex(), позволяющий передать в драйвер байтовый массив как строку. Подробнее в документации.
    4. Изменен прототип метода showProperties() в COM-обертке для 32-битной сборки. Теперь дескриптор родительского окна указывается как LONG вместо LONGLONG. Прототип 64-битной сборки не изменился.
    5. Внесены следующие изменения в JSON API:
        - добавлена возможность выгрузки документа из ФН по его номеру в виде набора реквизитов;
        - добавлена возможность отключить печать подвала нефискального документа;
        - добавлена возможность задать дополнительный реквизит пользователя (1084) в чеках;
        - добавлена возможность задать дополнительный реквизит предмета расчета (1191) в позиции чека;
        - в результат запроса состояния обмена с ОФД добавлены ошибки обмена;
        - добавлена возможность печати копии последнего документа.
    6. Внесены следующие изменения в основной API:
        - для метода endNonfiscalDocument() добавлена возможность отключить печать подвала с помощью параметра LIBFPTR_PARAM_PRINT_FOOTER.
    7. Добавлена возможность указания компонентов при тихой установке дистрибутива под Windows.
    8. Внесены исправления в разметку activity настройки драйвера под Android - текст в списках значений теперь виден полностью.

- Драйвер ККТ Android

    1. Проведена стабилизация работы сервиса.

Исправленные ошибки:

- Драйвер ККТ

    1. При запросе большого байтового массива через COM-обертку, часть его данных затирается нулями.
       Способ решения: Исправлено чтение байтового массива COM-обреткой из основного драйвера.
    2. При чтении строковых параметров через COM-обертку драйвер возвращает лишний нулевой символ в конце.
       Способ решения: Исправлено формирование строки параметра, лишние символы не добавляются.
    3. При использовании python-обертки из python3 на windows возникает ошибка импорта модуля _winreg.
       Способ решения: Исправлена работа обертки из python3. Импортируется корректный модуль.


10.4.0 от 04.09.2018  ***************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. В документации указан рекомендуемый порядок применения операций при регистрации чеков (см. раздел "Операции с чеком"). Указанному порядку будет уделяться повышенное внимание при поддержке и обеспечении совместимости.
    2. Оптимизирован по скорости обмен с ОФД через канал EthernetOverTransport.
    3. Добавлена поддержка Казначей ФА.
    4. В документацию добавлены пояснения по настройке канала связи с ОФД.
    5. Внесены следующие изменения в JSON API:
        - добавлена возможность печати отчета "Информация о ККТ";
        - добавлена возможность печати отчета "Тестовая печать";
        - добавлена возможность печати отчета "Диагностика связи с ОФД";
        - добавлена возможность печати отчета "Документ из ФН по номеру";
        - подержаны новые типы ШК;
        - добавлена поддержка новых значений поля paymentObject товарной позиции;
        - добавлена возможность записи и чтения настроек ККТ;
        - добавлена возможность записи даты и времени;
        - дополнены запросы сменных и необнуляемых итогов суммами по пользовательским типам оплат;
        - добавлен запрос состояния ФН;
        - добавлена возможность открытия денежного ящика;
        - добавлена запрос состояния денежного ящика;
        - в запрос статуса ККТ добавлен статус денежного ящика;
    6. Внесены следующие изменения в основной API:
        - добавлен метод промотки ленты lineFeed();
        - добавлен метод загрузки ПО ККТ (для ККТ АТОЛ версий 5.X) flashFirmware();
        - для метода queryData() добавлен краткий запрос состояния LIBFPTR_DT_SHORT_STATUS;
        - для метода queryData() добавлен краткий информации о массиве картинок в ККТ LIBFPTR_DT_PICTURES_ARRAY_INFO;
        - в результат метода запроса информации об ФН (fnQueryData(), запрос LIBFPTR_FNDT_FN_INFO) добавлен параметр "Нерасшифрованный байт флагов ФН" LIBFPTR_PARAM_FN_FLAGS;
        - для метода beginReport() добавлена возможность чтения ПО ККТ (тип данных LIBFPTR_RT_FIRMWARE) для ККТ АТОЛ версий 5.X.
    7. Внесены следующие изменения в поддержку настроек ККТ:
        - добавлена настройка 330 - Шрифт реквизитов в чеке;
        - добавлена настройка 331 - Сопряжение по Bluetooth;
        - добавлена настройка 332 - Печатать реквизит "Наименование ОФД";
        - добавлена настройка 333 - Печатать реквизит "Адрес электронной почты отправителя";
        - добавлена настройка 334 - Работа с ЭЖ;
        - добавлена настройка 335 - Автоматически печатать копию Z-отчета после печати Z-отчета;
        - добавлена настройка 336 - Выдвигать чек;
        - добавлена настройка 337 - Действия с чеком после отрезки;
        - добавлена настройка 338 - Действия с предыдущим чеком, если его не забрали;
        - добавлена настройка 339 - Чек делает петлю;
        - добавлена настройка 340 - Обнулять счетчик чеков при закрытии смены;
        - добавлена настройка 341 - Перенос строк при печати;
        - добавлена настройка 342 - Таймаут на выключение периферии;
        - добавлена настройка 343 - Модель подключенного принтера;
        - добавлена настройка 344 - Выдвигать суточные отчеты;
        - обновлен список возможных значений параметра 63 - Признак предмета расчета по умолчанию.
    8. В Параметры ККТ добавлена возможность выгрузить настройки ККТ в формате, пригодном для использования в JPOS-драйвере.
    9. Метод showProperties() теперь возвращает признак, каким образом диалог настройки завершил работу. Подробности в документации.
    10. В состав включен JPOS-драйвер версии 1.14.1.

- Тестовое приложение

    1. На вкладку "Чек" добавлены поля для ввода новых реквизитов ФН:
        - 1227 - наименования получателя;
        - 1228 - ИНН получателя;
        - 1229 - акциз;
        - 1230 - код страны происхождения;
        - 1231 - номер таможенной декларации.
    2. На вкладке "Чек" обновлен список значений для реквизита ФН №1212 (признак предмета расчета).

- Драйвер ККТ Android

    1. Стабилизирована работа с ККТ по USB.

- Web-сервер

    1. Добавлена поддержка CORS-запросов.

Исправленные ошибки:

- Драйвер ККТ

    1. Не возвращается ошибка при передаче не корректных параметров кассира в JSON-заданиях.
       Способ решения: Драйвер проверяет результат регистрации кассира и возвращает ошибку, если регистрация не удалась.
    2. Если попытаться считать какой-либо реквизит регистрации как дату и время (getParamDateTime()), то драйвер может упасть с ошибкой памяти.
       Способ решения: Добавлен дополнительный контроль при преобразовании параметров к типу Дата/Время.
    3. В Параметрах ККТ некорректная нумерация ИНН кассира, начиная с 11го кассира.
       Способ решения: Список выводимых в Параметры ККТ настроек исправлен.
    4. После выхода из засыпания iOS-устройства драйвер падает.
       Способ решения: Добавлено игнорирование сигнала SIGPIPE, возникающего при разрыве связи по TCP/IP.
    5. Если драйвер смог открыть порт, но не смог обменяться с ККТ базовыми запросами в методе open(), порт оставался занятым и открыть его можно было заново только после перезапуска драйвера.
       Способ решения: Если обменяться с ККТ не удалось, то драйвер автоматически закрывает порт.
    6. При регистрации частично оплаченного чека через JSON происходит автоматическая доплата наличными.
       Способ решения: Драйвер выдает ошибку "Чек оплачен не полностью".
    7. На iOS не выводится кириллица в логи.
       Способ решения: Исправлена работа с форматированием строк, теперь русский текст отображается в логах.

- Web-сервер

    1. На некоторых Linux-системах при входе в настройки выдается ошибка "Unable to compile class for JSP".
       Способ решения: Исправлена конфигурация Jetty-сервера.


10.3.1 от 27.07.2018  ***************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Добавлена тестовая поддержка ККТ АТОЛ с конфигурациями 5.X.
    2. Значение канала связи с ККТ по умолчанию изменено на USB.
    3. Изменен способ печати EAN13 - теперь штрихкод генерирует драйвер.
    4. Внесены следующие изменения в JSON API:
        - в задания фискальных чеков добавлен параметр ignoreNonFiscalPrintErrors, позволяющий отключить прерывание задания при ошибке печати нефискальных элементов (текста и ШК).

- Компонент 1С

    1. Настройка "Увеличение штрихкода EAN8, EAN13 и CODE39" разбита на три:
        - Увеличение штрихкода EAN8;
        - Увеличение штрихкода EAN13;
        - Увеличение других линейных ШК.
    2. Добавлена поддержка передачи товарных номенклатур (тег ФН 1162).

Исправленные ошибки:

- Драйвер ККТ

    1. При вызове метода getParamString() в COM-объекте происходит ошибка "Method 'getParamString' is not supported dy automation object".
       Способ решения: Поправили API COM-объекта - добавили метод getParamString(), аналогичный getParamStr().
    2. При выполнении фискальных операций на нефискализированных ККТ через JSON документы печатаются, но на задание возвращается ошибка обмена с ФН.
       Способ решения: Ошибки на запросах данных о документах, запрашиваемых после закрытия фискального документа в ФН, игнорируются.
    3. При использовании C#-обертки выбрасывается необрабатываемое исключение, если не удалось загрузить основную библиотеку драйвера.
       Способ решения: Изменена загрузка библиотеки. При ошибке загрузки будет выбрасываться исключение FileNotFoundException.


10.3.0 от 10.07.2018  ***************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Добавлена тестовая поддержка ФФД 1.1.
    2. Изменена поставка фреймфорка для iOS. Сделаны отдельные сборки для iOS и симуляторов, добавлена сборка для iOS с bitcode.
    3. Добавлена обертка в виде COM-объекта.
    4. Добавлена обертка для работы с библиотекой драйвера из C#.
    5. Теперь устаревшие логи будут архивироваться.
    6. Добавлена поддержка работы с ККТ по Bluetooth на Windows и Linux. Для этого требуется указать MAC-адрес устройства.
    7. Диалог настройки связи с ККТ вынесен из теста драйвера в отдельную библиотеку. Вызов его доступен через метод showProperties().
    8. Добавлен дистрибутив для rpm-систем (Linux).
    9. Повышена стабильность работы канала обмена с ОФД EoT.
    10. В JSON-задания добавлена возможность указать текст и ШК, которые напечатаются до и после документа (после верхней части клише и до нижней).
    11. Добавлены JSON-задания для запроса сменных и необнуляемых итогов.
    12. В activity настройки связи с ККТ на Android добавлена кнопка "Назад".

- Тестовое приложение

    1. Из теста драйвера убрана возможность выбрать причину перерегистрации "Замена ФН", т.к. она дублирует функционал операции "Замена ФН".
    2. Добавлена возможность сохранить отчет о регистрации/перерегистрации/замене ФН/закрытии архива в файл.

- Драйвер ККТ Android

    1. В Android Service добавлена возможность работы через AIDL-интерфейс.

- Web-сервер

    1. Добавлена возможность управления очередью заданий: отмена задания, запрос состояния очереди.

Исправленные ошибки:

- Драйвер ККТ

    1. При подключении библиотеки драйвера через позднее связывание (LoadLibrary()) приложение зависает при завершении приложения или выгрузке библиотеки (FreeLibrary()).
       Способ решения: Исправлена ошибка завершения фоновых потоков библиотеки при завершении родительского процесса.
    2. Если в настройке связи с ККТ ввести неверный пароль пользователя (например, буквы), то драйвер захватит порт ККТ и не отпустит его до завершения процесса.
       Способ решения: При ошибке настройки драйвера происходит закрытие канала обмена с ККТ.
    3. При попытке печати ШК CODE39 со значением, содержащим звездочки, драйвер возвращает ошибку.
       Способ решения: Звездочки не препятствуют печати ШК CODE39.
    4. Если попытаться повторно подключиться к ККТ (вызвать open()), когда связь с ней уже установлена этим же объектом драйвера, может произойти падение.
       Способ решения: Добавлено отключение от ККТ при повторном подключении.
    5. При регистрации/перерегистрации ККТ при открытой смене драйвер записывает настройки связи с ОФД, но не может провести саму операцию регистрации/перерегистрации.
       Способ решения: Добавлена проверка на открытую смену до записи настроек связи с ОФД.
    6. Метод checkDocumentClosed() не возвращает ошибку связи с ККТ.
       Способ решения: Исправлена обработка ошибок.
    7. Не удается передать сумму налога при отсутствии оплат в чеке коррекции через JSON-задание.
       Способ решения: Сумму налога можно передать даже при отсутствии оплат.

- Тестовое приложение

    1. При чтении информации о последнем чеке из ФН сумма чека может отображаться некорректно.
       Способ решения: Поправил отображение суммы чека.

- Web-сервер

    1. На Windows XP Web-сервер не запускается.
       Способ решения: Исправлена регистрация сервиса и работа с путями, содержащими пробелы.


10.2.0 от 04.05.2018  ***************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Обновлена документация на API драйвера под новый формат.
    2. Python и Java-обертки теперь могут найти основной драйвер, установленный инсталляторами.
    3. Добавлена поддержка работы с ККТ по USB на Android.
    4. Добавлена поддержка скоростей UART 230400, 460800 и 921600 бод для АТОЛ Sigma 10.
    5. Внесены следующие изменения в основной API:
      - добавлен запрос времени последней отправки документов в ОФД;
      - добавлен запрос кода привязки к личному кабинету АТОЛ.
    6. Добавлен функционал автоматического обновления конфигурации логирования при изменении файла fptr10_log.properties.

- Тестовое приложение

    1. Обновлен диалог поиска ККТ.

- Компонент 1С

    1. Добавлена реализация компонента для ОС Android.

- Web-сервер

    1. Первый релиз Web-сервера.

Исправленные ошибки:

- Драйвер ККТ

    1. В обертке для Objective-C тип возвращаемого значения метода isOpened() отличается от других оберток.
       Способ решения: Тип возвращаемого значения метода isOpened() изменен на bool.
    2. При перерегистрации со сменой версии ФФД на ККТ АТОЛ версии 4555 версия ФФД не меняется, но ошибки не происходит.
       Способ решения: Перерегистрация со сменой версии ФФД на данной версии ККТ завершается с ошибкой "Неверная версия ФФД".
    3. При чтении настройки ККТ #271 (Номер канала Wi-Fi в режиме точки доступа) возвращается неверное значение при номере канала больше 10.
       Способ решения: Исправлено чтение данной настройки ККТ.
    4. Не работает автоматическое допечатывание фискальных отчетов при их прерывании на ККТ АТОЛ версии 4555.
       Способ решения: Автоматическое допечатывание фискальных отчетов работает корректно.


10.1.1 от 30.03.2018  ***************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Инсталлятор распространяемых пакетов Visual C++ для Visual Studio 2015 запускается в "тихом" режиме.

Исправленные ошибки:

- Драйвер ККТ

    1. Если при перегистрации ККТ через JSON не передать версию ФФД, то регистрация завершится с ошибкой записи реквизита 1209.
       Способ решения: Если версия ФФД не передана, используется текущая версия, под которую зарегистрирована ККТ.

- Компонент 1С

    1. Не удается выполнить большинство операций через 1С.
       Способ решения: Исправлена обработка XML-заданий от 1C.

- Драйвер ККТ Android

    1. Приложение завершается с ошибкой при получении JSON-задания.
       Способ решения: Исправлена работа приложения при активном канале обмена с ОФД.


10.1.0 от 16.03.2018  ***************************************************************************************

Внесенные изменения:

- Драйвер ККТ

    1. Оптимизирован обмен с ОФД.
    2. Внесены следующие изменения в основной API:
        - метод checkReceiptClosed() переименован в checkDocumentClosed();
        - добавлен метод utilFormNomenclature() для упрощения формирования реквизита 1162 (номенклатура) для некоторых типов маркировок (табачные изделия, лекарства, изделия из меха);
        - добавлен метод continuePrint() для допечатывания недопечатанного фискального документа;
        - добавлен метод initMgm() для инициализации МГМ ФН;
        - добавлена индикация недопечатанного фискального документа в метод checkDocumentClosed();
        - в общий запрос состояния добавлены флаги блокировки ККТ и отсутствия ФН;
        - в запрос ошибок сети / ОФД / ФН добавлены текстовые расшифровки ошибок;
        - добавлена возможность запроса значения счетчика размера чека;
        - добавлена возможность запроса значения сменных счетчиков скидок / надбавок;
        - добавлена возможность выгрузки фискального документа из ФН по его номеру.
    3. Внесены следующие изменения в JSON API:
        - изменен формат представления даты и времени в JSON - теперь используется ISO 8601 (YYYY-MM-DDThh:mm:ss±hh:mm);
        - добавлена возможность ввода маркировки через JSON-задания для некоторых типов маркировок (табачные изделия, лекарства, изделия из меха);
        - добавлена возможность запроса информации о ККТ, смене и ФН;
        - в ответ на формирование фискальных документов добавлен блок предпреждений "warnings". В блок предупреждений добавлен флаг недопечатанного документа "notPrinted";
        - при замене ФН автоматически подставляется причина перерегистрации "Замена ФН".
    4. Добавлена поддержка моделей АТОЛ 92Ф, АТОЛ Sigma 10.

- Тестовое приложение

    1. Изменен раздел формирования составных реквизитов ФН.
    2. Добавлена возможность ввода основания коррекции.
    3. Функционал проверки формирования документа вынесен в правую область теста.
    4. Ввод налога на чек перенесен с отдельной вкладки на вкладку формирования чека.
    5. Регистрация ККТ вынесена в отдельный раздел.
    6. Добавлена возможность сброса реквизитов (данные агента, поставщика).
    7. Тест актуализирован в соответствии с новыми возможностями драйвера.
    8. К окно параметров ККТ добавлена возможность загрузки / выгрузки настроек.

- Компонент 1С

    1. Добавлена настройка, позволяющая отключить монопольный захват ККТ.
    2. Обновлен адрес скачивания основной поставки драйвера.

- Драйвер ККТ Android

    1. Первый релиз отдельного приложения драйвера ККТ под Android.

Исправленные ошибки:

- Драйвер ККТ

    1. Не удается перевести ККТ в автономный режим.
       Способ решения: Исправлена запись ИНН ОФД, которая вызывала ошибку.
    2. После разрыва соединения с ККТ может не восстановиться обмен с ОФД.
       Способ решения: Обмен с ОФД восстанавливается вместе с восстановлением соединения с ККТ.
    3. На версии iOS 8 и 9 драйвер вызывает падение приложения с ошибкой "Symbol not found: _clock_gettime".
       Способ решения: использование метода clock_gettime заменено на gettimeofday.
    4. Через Java-API при запросе параметров с типом datetime возвращается некорректное время.
       Способ решения: Параметры с типом datetime теперь учитывают временные зоны.
    5. В Java-API отсутствует метод isOpened().
       Способ решения: Метод добавлен.
    6. Через Python-API не удается получить значения параметров c типами bool, int, double.
       Способ решения: Python-API исправлен, параметры запрашиваются успешно.
    7. Не заполнены обязательные параметры в Info.plist framework-а ДТО10 под iOS.
       Способ решения: Заполнены все основные параметры в Info.plist.
    8. При работе с 64х-битной 1С под Windows 1С-компонент не может найти основную поставку драйвера.
       Способ решения: Дистрибутив основной поставки некорректно фиксировал в реестре место своей установки. Исправлено.
    9. В результатах запроса версий ФФД возвращается некорректная максимальная версия ФФД ККТ.
       Способ решения: Запрос версий ФФД возвращает корректные значения.
    10. Если после неудачного подключения к ККТ провести успешное, то драйвер все равно возвращает ошибку соединения, хотя к ККТ подключается.
       Способ решения: Метод открытия соединения не сбрасывал ошибку. Исправлено.
    11. При открытии чека на фискализированной ККТ при нефискализированном ФН возвращается неизвестная ошибка.
       Способ решения: Конкретезирована ошибка ККТ в этой ситуации.
    12. При установке на 32х-битную Windows 64х-битного дистрибутива не возникает ошибок установки, но драйвер не работает.
       Способ решения: При установке на 32х-битную Windows 64х-битного дистрибутива выводится ошибка о несоответствии версий ОС и драйвера.

- Тестовое приложение

    1. При запросе регистрационных данных в поле ИНН организации выводится ИНН ОФД.
       Способ решения: Исправлен вывод регистрационных данных.
    2. При вводе одного ЗН ККТ возвращается ошибка ввода MAC-адреса.
       Способ решения: Исправлена передача MAC-адреса в драйвер с учетом маски ввода.
    3. Если ККТ в режиме блокировки, в параметрах оборудования не выводятся значения параметров.
       Способ решения: Запрещен вход в параметры ККТ, если ККТ заблокирована.


10.0.0 от 02.02.2018  ***************************************************************************************

1. Первый релиз драйвера ККТ.
